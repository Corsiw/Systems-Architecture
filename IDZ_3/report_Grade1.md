# üè¥‚Äç‚ò†Ô∏è –û—Ç—á—ë—Ç –ø–æ –ò–ó–î_3 

**–¢–µ–º–∞:** –ú–Ω–æ–≥–æ–ø—Ä–æ—Ü–µ—Å—Å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ POSIX API (–∑–∞–¥–∞—á–∞ ¬´–û—Å—Ç—Ä–æ–≤ –°–æ–∫—Ä–æ–≤–∏—â¬ª)  
**–í–∞—Ä–∏–∞–Ω—Ç:** 32  
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** *–¢–µ—Ä–µ—Ö–æ–≤ –î–º–∏—Ç—Ä–∏–π –°–µ—Ä–≥–µ–µ–≤–∏—á*  
**–ì—Ä—É–ø–ø–∞:** *–ë–ü–ò249*

---

## 1. –£—Å–ª–æ–≤–∏–µ –ó–∞–¥–∞—á–∏ –æ–± –û—Å—Ç—Ä–æ–≤–µ –°–æ–∫—Ä–æ–≤–∏—â
–®–∞–π–∫–∞ –ø–∏—Ä–∞—Ç–æ–≤ –ø–æ–¥ –ø—Ä–µ–¥–≤–æ–¥–∏—Ç–µ–ª—å—Å—Ç–≤–æ–º –î–∂–æ–Ω–∞ –°–∏–ª—å–≤–µ—Ä–∞ –≤—ã—Å–∞–¥–∏–ª–∞—Å—å –Ω–∞ –±–µ—Ä–µ–≥ –û—Å—Ç—Ä–æ–≤–∞ –°–æ–∫—Ä–æ–≤–∏—â. –ù–µ —Å–º–æ—Ç—Ä—è –Ω–∞ –¥–æ–±—ã—Ç—É—é –∫–∞—Ä—Ç—É –æ—Å—Ç—Ä–æ–≤–∞ —Å—Ç–∞—Ä–æ–≥–æ –§–ª–∏–Ω—Ç–∞, –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Å–æ–∫—Ä–æ–≤–∏—â –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –æ—Å—Ç–∞–µ—Ç—Å—è –∑–∞–≥–∞–¥–∫–æ–π, –ø–æ—ç—Ç–æ–º—É –∏—Å–∫–∞—Ç—å –∫–ª–∞–¥ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ –æ—â—É–ø—å. –¢–∞–∫ –∫–∞–∫ –°–∏–ª—å–≤–µ—Ä
—Ö–æ–¥–∏—Ç –Ω–∞ –¥–µ—Ä–µ–≤—è–Ω–Ω–æ–π –Ω–æ–≥–µ, —Ç–æ —Å–∞–º–æ–º—É –±—Ä–æ–¥–∏—Ç—å –ø–æ –¥–∂—É–Ω–≥–ª—è–º –µ–º—É –Ω–µ —Å —Ä—É–∫–∏. –î–∂–æ–Ω –°–∏–ª—å–≤–µ—Ä –ø–æ–¥–µ–ª–∏–ª –æ—Å—Ç—Ä–æ–≤ –Ω–∞ —É—á–∞—Å—Ç–∫–∏, –∞ –ø–∏—Ä–∞—Ç–æ–≤ –Ω–∞ –Ω–µ–±–æ–ª—å—à–∏–µ –≥—Ä—É–ø–ø—ã. –ö–∞–∂–¥–æ–π –≥—Ä—É–ø–ø–µ –ø–æ—Ä—É—á–∞–µ—Ç—Å—è –∏—Å–∫–∞—Ç—å –∫–ª–∞–¥ –Ω–∞ –æ–¥–Ω–æ–º –∏–∑ —É—á–∞—Å—Ç–∫–æ–≤, –∞ —Å–∞–º –°–∏–ª—å–≤–µ—Ä –∂–¥–µ—Ç –Ω–∞ –±–µ—Ä–µ–≥—É. –ü–∏—Ä–∞—Ç—ã, –æ–±—à–∞—Ä–∏–≤ —Å–≤–æ–π —É—á–µ—Å—Ç–æ–∫, –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –∫ –°–∏–ª—å–≤–µ—Ä—É –∏ –¥–æ–∫–ª–∞–¥—ã–≤–∞—é—Ç –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö.

**–¢—Ä–µ–±—É–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –º–Ω–æ–≥–æ–ø—Ä–æ—Ü–µ—Å—Å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å —É–ø—Ä–∞–≤–ª—è—é—â–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º, –º–æ–¥–µ–ª–∏—Ä—É—é—â–µ–µ –¥–µ–π—Å—Ç–≤–∏—è –°–∏–ª—å–≤–µ—Ä–∞ –∏ –ø–∏—Ä–∞—Ç–æ–≤.**

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ.** –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–∫–æ–≤ –ø—Ä–µ–≤—ã—à–∞–µ—Ç —á–∏—Å–ª–æ –ø–æ–∏—Å–∫–æ–≤—ã—Ö –≥—Ä—É–ø–ø.
*–ü—Ä–æ—Ü–µ—Å—Å—ã –¥–æ–ª–∂–Ω—ã –∑–∞–¥–∞–≤–∞—Ç—å –∫–∞–∂–¥—É—é –≥—Ä—É–ø–ø—É –∏ C–∏–ª—å–≤–µ—Ä–∞ (—É–ø—Ä–∞–≤–ª—è—é—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å).*

---

## 2. Grade1. –°—Ü–µ–Ω–∞—Ä–∏–π –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã

### 2.1. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–æ–ª–µ–π –≤ –ø—Ä–æ—Ü–µ—Å—Å—ã

| –†–æ–ª—å           | –ü—Ä–æ—Ü–µ—Å—Å      | –ü–æ–≤–µ–¥–µ–Ω–∏–µ                                                                                                                    |
| -------------- | ------------ | ---------------------------------------------------------------------------------------------------------------------------- |
| –î–∂–æ–Ω –°–∏–ª—å–≤–µ—Ä   | –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π | –°–æ–∑–¥–∞—ë—Ç —Ä–∞–∑–¥–µ–ª—è–µ–º—É—é –ø–∞–º—è—Ç—å –∏ —Å–µ–º–∞—Ñ–æ—Ä—ã, –∑–∞–ø—É—Å–∫–∞–µ—Ç N –¥–æ—á–µ—Ä–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ—Ç—á—ë—Ç—ã –æ—Ç –ø–∏—Ä–∞—Ç–æ–≤, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã. |
| –ì—Ä—É–ø–ø–∞ –ø–∏—Ä–∞—Ç–æ–≤ | –î–æ—á–µ—Ä–Ω–∏–π     | –ü–æ–ª—É—á–∞–µ—Ç –∏–∑ –æ–±—â–µ–π –ø–∞–º—è—Ç–∏ –Ω–æ–º–µ—Ä —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—á–∞—Å—Ç–∫–∞, –≤—ã–ø–æ–ª–Ω—è–µ—Ç ¬´–ø–æ–∏—Å–∫¬ª (sleep), —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –æ—Ç—á—ë—Ç –∏ –ø–æ–º–µ—â–∞–µ—Ç –µ–≥–æ –≤ –æ–±—â–∏–π –±—É—Ñ–µ—Ä.  |

### 2.2. –ú–µ—Ö–∞–Ω–∏–∑–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

* **–†–∞–∑–¥–µ–ª—è–µ–º–∞—è –ø–∞–º—è—Ç—å (POSIX shm_open + mmap)**
  –•—Ä–∞–Ω–∏—Ç:

  * —Ç–µ–∫—É—â–∏–π –Ω–æ–º–µ—Ä —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—á–∞—Å—Ç–∫–∞ (`next_section`);
  * –∫–æ–ª—å—Ü–µ–≤–æ–π –±—É—Ñ–µ—Ä –æ—Ç—á—ë—Ç–æ–≤;
  * –∏–Ω–¥–µ–∫—Å—ã –±—É—Ñ–µ—Ä–∞ –∏ —Å–ª—É–∂–µ–±–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É;
  * –Ω–µ–∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ POSIX-—Å–µ–º–∞—Ñ–æ—Ä—ã –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.

* **–°–µ–º–∞—Ñ–æ—Ä—ã (POSIX, –Ω–µ–∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ)**
  –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–æ–º –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:

  | –°–µ–º–∞—Ñ–æ—Ä              | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                                             |
  | -------------------- | -------------------------------------------------------------------------------------- |
  | `mutex_next_section` | –ó–∞—â–∏—â–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ `next_section` –ø—Ä–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ —É—á–∞—Å—Ç–∫–æ–≤.                           |
  | `report_mutex`       | –ó–∞—â–∏—â–∞–µ—Ç –±—É—Ñ–µ—Ä –æ—Ç—á—ë—Ç–æ–≤ –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –∏ —á—Ç–µ–Ω–∏–∏.                                            |
  | `items`              | –°—á—ë—Ç—á–∏–∫ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤ –æ—Ç—á—ë—Ç–Ω–æ–≥–æ –±—É—Ñ–µ—Ä–∞.                                           |
  | `slots`              | –°—á—ë—Ç—á–∏–∫ —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤.                                                              |
  | `print_mutex`        | C–µ–º–∞—Ñ–æ—Ä –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤—ã–≤–æ–¥–∞ –≤ stdout, —á—Ç–æ–±—ã —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–ª–∏—Å—å. |

* **–°–∏–≥–Ω–∞–ª—ã**

  * `SIGINT` (Ctrl+C) ‚Äî –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—Å—ã–ª–∞–µ—Ç `SIGTERM` –¥–æ—á–µ—Ä–Ω–∏–º –ø—Ä–æ—Ü–µ—Å—Å–∞–º.
  * `SIGTERM` ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –¥–æ—á–µ—Ä–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.

---

## 3. –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–û–¥–∏–Ω —Ä–æ–¥–∏—Ç–µ–ª—å (–°–∏–ª—å–≤–µ—Ä)** —Å–æ–∑–¥–∞—ë—Ç N –¥–æ—á–µ—Ä–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (–≥—Ä—É–ø–ø—ã –ø–∏—Ä–∞—Ç–æ–≤).
2. **–†–∞–∑–¥–µ–ª—è–µ–º–∞—è –ø–∞–º—è—Ç—å POSIX** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏.
3. **–ù–µ–∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ POSIX-—Å–µ–º–∞—Ñ–æ—Ä—ã** (pshared = 1) –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é.
4. **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ** –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ `Ctrl+C` ‚Äî –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è –∏ –ø–∞–º—è—Ç—å –æ—á–∏—â–∞–µ—Ç—Å—è.
5. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥** —á–µ—Ä–µ–∑ –æ–±—â–∏–π `print_mutex`, —á—Ç–æ–±—ã —Å—Ç—Ä–æ–∫–∏ –Ω–µ –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–ª–∏—Å—å.
6. **–í—ã–≤–æ–¥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** (`std::unitbuf` + `_IONBF`) ‚Äî —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ.

---

## 4. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞–∑–¥–µ–ª—è–µ–º–æ–π –ø–∞–º—è—Ç–∏

```cpp
struct Shared {
    sem_t mutex_next_section; // –∑–∞—â–∏—Ç–∞ —Å—á—ë—Ç—á–∏–∫–∞ next_section
    sem_t report_mutex;       // –∑–∞—â–∏—Ç–∞ –±—É—Ñ–µ—Ä–∞ –æ—Ç—á—ë—Ç–æ–≤
    sem_t items;              // –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Å–ª–æ—Ç—ã
    sem_t slots;              // —Å–≤–æ–±–æ–¥–Ω—ã–µ —Å–ª–æ—Ç—ã
    sem_t print_mutex;        // —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—ã–≤–æ–¥–∞

    int next_section;         // –∏–Ω–¥–µ–∫—Å —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—á–∞—Å—Ç–∫–∞
    int total_sections;       // –æ–±—â–µ–µ —á–∏—Å–ª–æ —É—á–∞—Å—Ç–∫–æ–≤
    int reports_prod_idx;     // –∏–Ω–¥–µ–∫—Å –∑–∞–ø–∏—Å–∏ –æ—Ç—á—ë—Ç–∞
    int reports_cons_idx;     // –∏–Ω–¥–µ–∫—Å —á—Ç–µ–Ω–∏—è –æ—Ç—á—ë—Ç–∞
    int processed_reports;    // –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –æ—Ç—á—ë—Ç–æ–≤
    int buf_size;             // —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ –æ—Ç—á—ë—Ç–æ–≤

    Report reports[1];        // –∫–æ–ª—å—Ü–µ–≤–æ–π –±—É—Ñ–µ—Ä –æ—Ç—á—ë—Ç–æ–≤
};
```

---

## 5. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤

* **–†–æ–¥–∏—Ç–µ–ª—å (–°–∏–ª—å–≤–µ—Ä)** –ª–æ–≤–∏—Ç `SIGINT` –∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç –≤—Å–µ—Ö –¥–æ—á–µ—Ä–Ω–∏—Ö:

  ```cpp
  struct sigaction sa{};
  sa.sa_handler = parent_sigint_handler;
  sigaction(SIGINT, &sa, nullptr);
  ```

  –ü–æ—Å–ª–µ —Å–∏–≥–Ω–∞–ª–∞:

  ```cpp
  for (pid_t cpid : children) kill(cpid, SIGTERM);
  ```

* **–î–æ—á–µ—Ä–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã** –ª–æ–≤—è—Ç `SIGTERM` –∏ –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:

  ```cpp
  struct sigaction sc{};
  sc.sa_handler = child_sigterm_handler;
  sigaction(SIGTERM, &sc, nullptr);
  ```

---

## 6. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∏ –æ—á–∏—Å—Ç–∫–∞

–ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –ª—é–±–æ–≥–æ —Ç–∏–ø–∞ (–Ω–æ—Ä–º–∞–ª—å–Ω–æ –∏–ª–∏ Ctrl+C):

* –í—Å–µ –¥–æ—á–µ—Ä–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è.
* –†–æ–¥–∏—Ç–µ–ª—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç:

  * `sem_destroy(...)` –¥–ª—è –≤—Å–µ—Ö —Å–µ–º–∞—Ñ–æ—Ä–æ–≤;
  * `munmap(...)`;
  * `shm_unlink(...)` ‚Äî —É–¥–∞–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç —Ä–∞–∑–¥–µ–ª—è–µ–º–æ–π –ø–∞–º—è—Ç–∏.

–≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ ¬´–≤–∏—Å—è—â–∏—Ö¬ª —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ.

---

## 7. –°–ø–æ—Å–æ–± –∑–∞–ø—É—Å–∫–∞

–ö–æ–º–ø–∏–ª—è—Ü–∏—è:

```bash
g++ -std=c++20 -pthread -O2 -o treasure treasure.cpp
```

–ó–∞–ø—É—Å–∫:

```bash
./treasure <num_groups> <num_sections> [report_buffer_size]
```

–ü—Ä–∏–º–µ—Ä:

```bash
./treasure 5 20 50
```

(5 –ø–æ–∏—Å–∫–æ–≤—ã—Ö –≥—Ä—É–ø–ø, 20 —É—á–∞—Å—Ç–∫–æ–≤, –±—É—Ñ–µ—Ä –æ—Ç—á—ë—Ç–æ–≤ –Ω–∞ 50 –∑–∞–ø–∏—Å–µ–π)

---

## 8. –ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ä–∞–±–æ—Ç—ã

–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

```
Silver(pid=19297): –∑–∞–ø—É—â–µ–Ω. –ì—Ä—É–ø–ø: 2, –£—á–∞—Å—Ç–∫–æ–≤: 10, –ë—É—Ñ–µ—Ä –æ—Ç—á—ë—Ç–æ–≤: 50.
[Group 1 pid=19298] –±–µ—Ä—ë—Ç —É—á–∞—Å—Ç–æ–∫ #0, –≤—Ä–µ–º—è –ø–æ–∏—Å–∫–∞ 2s
[Group 2 pid=19299] –±–µ—Ä—ë—Ç —É—á–∞—Å—Ç–æ–∫ #1, –≤—Ä–µ–º—è –ø–æ–∏—Å–∫–∞ 3s
[Group 1 pid=19298] –æ—Ç–ø—Ä–∞–≤–∏–ª –æ—Ç—á—ë—Ç –ø–æ —É—á–∞—Å—Ç–∫—É #0 (–Ω–∏—á–µ–≥–æ)
[Group 1 pid=19298] –±–µ—Ä—ë—Ç —É—á–∞—Å—Ç–æ–∫ #2, –≤—Ä–µ–º—è –ø–æ–∏—Å–∫–∞ 1s
[Silver] –ü–æ–ª—É—á–µ–Ω –æ—Ç—á—ë—Ç: –≥—Ä—É–ø–ø–∞ 1 (pid=19298) —É—á–∞—Å—Ç–æ–∫ #0 => –ø—É—Å—Ç–æ  time=2025-11-10 15:15:20
[Group 2 pid=19299] –æ—Ç–ø—Ä–∞–≤–∏–ª –æ—Ç—á—ë—Ç –ø–æ —É—á–∞—Å—Ç–∫—É #1 (–Ω–∏—á–µ–≥–æ)
[Silver] –ü–æ–ª—É—á–µ–Ω –æ—Ç—á—ë—Ç: –≥—Ä—É–ø–ø–∞ 2 (pid=19299) —É—á–∞—Å—Ç–æ–∫ #1 => –ø—É—Å—Ç–æ  time=2025-11-10 15:15:21
[Group 1 pid=19298] –æ—Ç–ø—Ä–∞–≤–∏–ª –æ—Ç—á—ë—Ç –ø–æ —É—á–∞—Å—Ç–∫—É #2 (–Ω–∏—á–µ–≥–æ)
[Silver] –ü–æ–ª—É—á–µ–Ω –æ—Ç—á—ë—Ç: –≥—Ä—É–ø–ø–∞ 1 (pid=19298) —É—á–∞—Å—Ç–æ–∫ #2 => –ø—É—Å—Ç–æ  time=2025-11-10 15:15:21
[Group 2 pid=19299] –±–µ—Ä—ë—Ç —É—á–∞—Å—Ç–æ–∫ #3, –≤—Ä–µ–º—è –ø–æ–∏—Å–∫–∞ 3s
[Group 1 pid=19298] –±–µ—Ä—ë—Ç —É—á–∞—Å—Ç–æ–∫ #4, –≤—Ä–µ–º—è –ø–æ–∏—Å–∫–∞ 2s
[Group 1 pid=19298] –æ—Ç–ø—Ä–∞–≤–∏–ª –æ—Ç—á—ë—Ç –ø–æ —É—á–∞—Å—Ç–∫—É #4 (–Ω–∏—á–µ–≥–æ)
[Silver] –ü–æ–ª—É—á–µ–Ω –æ—Ç—á—ë—Ç: –≥—Ä—É–ø–ø–∞ 1 (pid=19298) —É—á–∞—Å—Ç–æ–∫ #4 => –ø—É—Å—Ç–æ  time=2025-11-10 15:15:24
[Group 2 pid=19299] –æ—Ç–ø—Ä–∞–≤–∏–ª –æ—Ç—á—ë—Ç –ø–æ —É—á–∞—Å—Ç–∫—É #3 (–Ω–∏—á–µ–≥–æ)
[Silver] –ü–æ–ª—É—á–µ–Ω –æ—Ç—á—ë—Ç: –≥—Ä—É–ø–ø–∞ 2 (pid=19299) —É—á–∞—Å—Ç–æ–∫ #3 => –ø—É—Å—Ç–æ  time=2025-11-10 15:15:25
[Group 1 pid=19298] –±–µ—Ä—ë—Ç —É—á–∞—Å—Ç–æ–∫ #5, –≤—Ä–µ–º—è –ø–æ–∏—Å–∫–∞ 2s
[Group 2 pid=19299] –±–µ—Ä—ë—Ç —É—á–∞—Å—Ç–æ–∫ #6, –≤—Ä–µ–º—è –ø–æ–∏—Å–∫–∞ 3s
[Group 1 pid=19298] –æ—Ç–ø—Ä–∞–≤–∏–ª –æ—Ç—á—ë—Ç –ø–æ —É—á–∞—Å—Ç–∫—É #5 (–Ω–∏—á–µ–≥–æ)
[Silver] –ü–æ–ª—É—á–µ–Ω –æ—Ç—á—ë—Ç: –≥—Ä—É–ø–ø–∞ 1 (pid=19298) —É—á–∞—Å—Ç–æ–∫ #5 => –ø—É—Å—Ç–æ  time=2025-11-10 15:15:27
[Group 1 pid=19298] –±–µ—Ä—ë—Ç —É—á–∞—Å—Ç–æ–∫ #7, –≤—Ä–µ–º—è –ø–æ–∏—Å–∫–∞ 3s
[Group 2 pid=19299] –æ—Ç–ø—Ä–∞–≤–∏–ª –æ—Ç—á—ë—Ç –ø–æ —É—á–∞—Å—Ç–∫—É #6 (–Ω–∏—á–µ–≥–æ)
[Silver] –ü–æ–ª—É—á–µ–Ω –æ—Ç—á—ë—Ç: –≥—Ä—É–ø–ø–∞ 2 (pid=19299) —É—á–∞—Å—Ç–æ–∫ #6 => –ø—É—Å—Ç–æ  time=2025-11-10 15:15:29
[Group 2 pid=19299] –±–µ—Ä—ë—Ç —É—á–∞—Å—Ç–æ–∫ #8, –≤—Ä–µ–º—è –ø–æ–∏—Å–∫–∞ 1s
[Group 2 pid=19299] –æ—Ç–ø—Ä–∞–≤–∏–ª –æ—Ç—á—ë—Ç –ø–æ —É—á–∞—Å—Ç–∫—É #8 (–Ω–∏—á–µ–≥–æ)
[Silver] –ü–æ–ª—É—á–µ–Ω –æ—Ç—á—ë—Ç: –≥—Ä—É–ø–ø–∞ 2 (pid=19299) —É—á–∞—Å—Ç–æ–∫ #8 => –ø—É—Å—Ç–æ  time=2025-11-10 15:15:30
[Group 1 pid=19298] –æ—Ç–ø—Ä–∞–≤–∏–ª –æ—Ç—á—ë—Ç –ø–æ —É—á–∞—Å—Ç–∫—É #7 (–Ω–∏—á–µ–≥–æ)
[Group 2 pid=19299] –±–µ—Ä—ë—Ç —É—á–∞—Å—Ç–æ–∫ #9, –≤—Ä–µ–º—è –ø–æ–∏—Å–∫–∞ 1s
[Silver] –ü–æ–ª—É—á–µ–Ω –æ—Ç—á—ë—Ç: –≥—Ä—É–ø–ø–∞ 1 (pid=19298) —É—á–∞—Å—Ç–æ–∫ #7 => –ø—É—Å—Ç–æ  time=2025-11-10 15:15:31
[Group 1 pid=19298] –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É.
[Group 2 pid=19299] –æ—Ç–ø—Ä–∞–≤–∏–ª –æ—Ç—á—ë—Ç –ø–æ —É—á–∞—Å—Ç–∫—É #9 (–Ω–∏—á–µ–≥–æ)
[Silver] –ü–æ–ª—É—á–µ–Ω –æ—Ç—á—ë—Ç: –≥—Ä—É–ø–ø–∞ 2 (pid=19299) —É—á–∞—Å—Ç–æ–∫ #9 => –ø—É—Å—Ç–æ  time=2025-11-10 15:15:32
[Silver] –î–æ—á–µ—Ä–Ω–∏–π pid=19298 –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –∫–æ–¥–æ–º 0
[Group 2 pid=19299] –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É.
[Silver] –î–æ—á–µ—Ä–Ω–∏–π pid=19299 –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –∫–æ–¥–æ–º 0
[Silver] –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ –æ—Ç—á—ë—Ç–æ–≤ (–¥–µ–∫–ª–∞—Ä–∏—Ä–æ–≤–∞–Ω–æ): 10 –∏–∑ 10
[Silver] –°–µ–º–∞—Ñ–æ—Ä—ã –∏ —Ä–∞–∑–¥–µ–ª—è–µ–º–∞—è –ø–∞–º—è—Ç—å —É–¥–∞–ª–µ–Ω—ã. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.
```

–ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–µ—á–∞—Ç–∞–µ—Ç—Å—è **–≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** –∏ **–∞—Ç–æ–º–∞—Ä–Ω–æ**, –±–ª–∞–≥–æ–¥–∞—Ä—è —Å–µ–º–∞—Ñ–æ—Ä—É `print_mutex`.

---

## 9. –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø–æ Ctrl+C

–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ **Ctrl+C**:

```
^C
Silver: –ø–æ–ª—É—á–µ–Ω SIGINT, –∏–Ω–∏—Ü–∏–∏—Ä—É—é –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –¥–æ—á–µ—Ä–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤...
Silver: –¥–æ—á–µ—Ä–Ω–∏–π pid=4124 –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –∫–æ–¥–æ–º 0
Silver: –¥–æ—á–µ—Ä–Ω–∏–π pid=4125 –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –∫–æ–¥–æ–º 0
Silver: –¥–æ—á–µ—Ä–Ω–∏–π pid=4126 –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –∫–æ–¥–æ–º 0
Silver: –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ –æ—Ç—á—ë—Ç–æ–≤: 5 –∏–∑ 10
Silver: —Å–µ–º–∞—Ñ–æ—Ä—ã –∏ —Ä–∞–∑–¥–µ–ª—è–µ–º–∞—è –ø–∞–º—è—Ç—å —É–¥–∞–ª–µ–Ω—ã. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.
```

---